<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Lịch sử đặt phòng</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f8f9fa; /* Light background color */
    }
    .booking-history-container {
      margin-top: 80px; /* Space for fixed navbar */
    }
    .table {
      background-color: #ffffff; /* White background for table */
      border-radius: 5px; /* Rounded corners */
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); /* Subtle shadow */
    }
    .table th {
      background-color: #007bff; /* Bootstrap primary color */
      color: white; /* White text for header */
    }
    .status-badge {
      padding: 5px 10px;
      border-radius: 5px;
      font-size: 0.9em;
    }
    .status-confirmed {
      background-color: #d4edda;
      color: #155724;
    }
    .status-completed {
      background-color: #c8e6c9;
      color: #388e3c;
    }
    .status-canceled {
      background-color: #f8d7da;
      color: #721c24;
    }
  </style>
</head>
<body>

<div class="container booking-history-container">
  <h2><i class="fas fa-history"></i> Lịch sử đặt phòng</h2>
  <table class="table table-striped table-hover">
    <thead>
    <tr>
      <th>ID Đặt Phòng</th>
      <th>Loại Phòng</th>
      <th>Ngày Nhận Phòng</th>
      <th>Ngày Trả Phòng</th>
      <th>Trạng Thái</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="booking : ${bookings}">
      <td th:text="${booking.id}"></td>
      <td th:text="${booking.room.roomType.roomTypeName}"></td>
      <td th:text="${#temporals.format(booking.bookingCheckInDate, 'dd-MM-yyyy HH:mm')}"></td>
      <td th:text="${#temporals.format(booking.bookingCheckOutDate, 'dd-MM-yyyy HH:mm')}"></td>
      <td>
                <span class="status-badge"
                      th:classappend="${booking.bookingStatus == 'confirmed' ? 'status-confirmed' :
                                       (booking.bookingStatus == 'completed' ? 'status-completed' : 'status-canceled')}"
                      th:text="${booking.bookingStatus}"></span>
      </td>
    </tr>
    </tbody>
  </table>

  <!-- Message if no bookings -->
  <p th:if="${#lists.isEmpty(bookings)}" style="color:#6c757d;">
    Không có đặt phòng nào trong lịch sử.
  </p>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>

